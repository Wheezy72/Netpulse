@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global theme variables and base styling */
/* CyberDeck Theme */
body.theme-cyberdeck {
  --np-bg: #0d0d0d;
  --np-surface: #151515;
  --np-border: rgba(0, 243, 255, 0.35);
  --np-accent-cyan: #00f3ff;
  --np-accent-purple: #bd00ff;
  --np-matrix-green: #00ff41;
  --np-text: #e0f7ff;
  --np-muted-text: #7dd3fc;
  --np-font-family: "JetBrains Mono", "Fira Code", ui-monospace, SFMono-Regular, Menlo,
    Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

/* SysAdmin Pro Theme */
body.theme-sysadmin {
  --np-bg: #f5f7fa;
  --np-surface: #ffffff;
  --np-border: rgba(15, 23, 42, 0.12);
  --np-accent-primary: #1f3a93;
  --np-accent-secondary: #4b7bec;
  --np-text: #111827;
  --np-muted-text: #6b7280;
  --np-font-family: "Inter", "Roboto", system-ui, -apple-system, BlinkMacSystemFont,
    "Segoe UI", sans-serif;
}

/* Global application layout */
body {
  margin: 0;
  padding: 0;
  font-family: var(--np-font-family, system-ui);
  background-color: var(--np-bg);
  color: var(--np-text);
}

/* CyberDeck specific flourishes */
body.theme-cyberdeck {
  background-image: radial-gradient(circle at 0 0, rgba(0, 243, 255, 0.15), transparent 40%),
    radial-gradient(circle at 100% 100%, rgba(189, 0, 255, 0.15), transparent 40%);
}

body.theme-cyberdeck .np-panel {
  border: 1px solid var(--np-border);
  background: radial-gradient(circle at 0 0, rgba(0, 243, 255, 0.05), transparent 45%)
      border-box,
    radial-gradient(circle at 100% 100%, rgba(189, 0, 255, 0.05), transparent 45%)
      border-box,
    linear-gradient(135deg, #050505, #101010);
  box-shadow: 0 0 18px rgba(0, 243, 255, 0.18);
}

/* Login card styling per theme */
body.theme-cyberdeck .np-login-panel {
  border: 1px solid rgba(34, 211, 238, 0.6);
  background: radial-gradient(circle at 0 0, rgba(0, 243, 255, 0.12), transparent 55%)
      border-box,
    radial-gradient(circle at 100% 100%, rgba(189, 0, 255, 0.12), transparent 55%)
      border-box,
    linear-gradient(145deg, rgba(3, 7, 18, 0.95), rgba(15, 23, 42, 0.98));
  box-shadow:
    0 0 18px rgba(0, 243, 255, 0.3),
    0 18px 32px rgba(0, 0, 0, 0.7);
}

body.theme-cyberdeck .np-login-title {
  color: var(--np-accent-cyan);
  text-shadow: 0 0 6px rgba(0, 243, 255, 0.8);
  overflow: hidden;
  white-space: nowrap;
  border-right: 2px solid var(--np-accent-cyan);
  /* Approximate typewriter: width in characters of "Sign In" (7) */
  width: 0;
  animation:
    np-typing 1.4s steps(7, end) forwards,
    np-cursor-blink 0.8s step-end infinite;
}

body.theme-sysadmin .np-login-panel {
  border: 1px solid var(--np-border);
  background-color: var(--np-surface);
  box-shadow:
    0 8px 18px rgba(15, 23, 42, 0.12),
    0 0 0 1px rgba(15, 23, 42, 0.02);
}

body.theme-sysadmin .np-login-title {
  color: var(--np-accent-primary);
}

/* Typewriter keyframes for CyberDeck login title */
@keyframes np-typing {
  from {
    width: 0;
  }
  to {
    width: 7ch;
  }
}

@keyframes np-cursor-blink {
  0%,
  50% {
    border-right-color: var(--np-accent-cyan);
  }
  51%,
  100% {
    border-right-color: transparent;
  }
}

/* Horizontal scanline effect for terminals and charts */
body.theme-cyberdeck .np-scanlines::before {
  content: "";
  pointer-events: none;
  position: absolute;
  inset: 0;
  background-image: linear-gradient(
    rgba(0, 0, 0, 0.25) 1px,
    transparent 1px
  );
  background-size: 100% 2px;
  mix-blend-mode: soft-light;
  opacity: 0.35;
}

/* SysAdmin Pro panels */
body.theme-sysadmin .np-panel {
  border: 1px solid var(--np-border);
  background-color: var(--np-surface);
  box-shadow: 0 1px 4px rgba(15, 23, 42, 0.08);
}

/* SysAdmin overrides for neon-heavy dashboard elements.
 * These ensure the UI reads as a clean business console while reusing
 * the same markup as the CyberDeck theme.
 */
body.theme-sysadmin .bg-black\/40,
body.theme-sysadmin .bg-black\/50,
body.theme-sysadmin .bg-black\/60,
body.theme-sysadmin .bg-black\/70,
body.theme-sysadmin .bg-black\/80,
body.theme-sysadmin .bg-black\/90 {
  background-color: var(--np-surface);
}

body.theme-sysadmin .border-cyan-400\/20,
body.theme-sysadmin .border-cyan-400\/30,
body.theme-sysadmin .border-cyan-400\/40,
body.theme-sysadmin .border-emerald-400\/40 {
  border-color: var(--np-border);
}

body.theme-sysadmin .text-cyan-200,
body.theme-sysadmin .text-cyan-100\/80,
body.theme-sysadmin .text-cyan-200\/70,
body.theme-sysadmin .text-cyan-300,
body.theme-sysadmin .text-emerald-300 {
  color: var(--np-accent-primary);
}

body.theme-sysadmin .bg-emerald-400\/60 {
  background-color: var(--np-accent-secondary);
}

body.theme-sysadmin .bg-cyan-500\/10,
body.theme-sysadmin .bg-emerald-500\/20,
body.theme-sysadmin .bg-rose-500\/20,
body.theme-sysadmin .bg-sky-500\/20 {
  background-color: rgba(148, 163, 184, 0.15);
}

body.theme-sysadmin .text-emerald-300,
body.theme-sysadmin .text-emerald-300\/80 {
  color: var(--np-accent-primary);
}

/* Tables and headers in SysAdmin theme */
body.theme-sysadmin thead.bg-black\/70 {
  background-color: #e5e7eb;
  color: #111827;
}

body.theme-sysadmin .border-cyan-400\/10 {
  border-color: rgba(148, 163, 184, 0.45);
}

/* Disable scanlines in SysAdmin theme */
body.theme-sysadmin .np-scanlines::before {
  display: none;
}

/* Panel header */
.np-panel-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  border-bottom: 1px solid var(--np-border);
  padding: 0.5rem 1rem;
}

/* Panel title text */
.np-panel-title {
  font-size: 0.85rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

/* Utility for glowing text in CyberDeck */
body.theme-cyberdeck .np-text-glow {
  text-shadow: 0 0 4px rgba(0, 243, 255, 0.7);
}

/* Subtle glitch effect for CyberDeck headings (e.g. main title). */
body.theme-cyberdeck .np-glitch {
  position: relative;
  animation: np-glitch-shift 3s infinite;
}

body.theme-cyberdeck .np-glitch::before,
body.theme-cyberdeck .np-glitch::after {
  content: attr(data-text);
  position: absolute;
  left: 0;
  top: 0;
  opacity: 0.6;
  mix-blend-mode: screen;
  pointer-events: none;
}

body.theme-cyberdeck .np-glitch::before {
  color: #22d3ee;
  transform: translate(0, 0);
  animation: np-glitch-before 3s infinite;
}

body.theme-cyberdeck .np-glitch::after {
  color: #f97316;
  transform: translate(0, 0);
  animation: np-glitch-after 3s infinite;
}

@keyframes np-glitch-shift {
  0%,
  90% {
    transform: translate(0, 0);
  }
  92% {
    transform: translate(-1px, -1px);
  }
  94% {
    transform: translate(1px, 1px);
  }
  96% {
    transform: translate(-0.5px, 0.5px);
  }
  100% {
    transform: translate(0, 0);
  }
}

@keyframes np-glitch-before {
  0%,
  90% {
    clip-path: inset(0 0 0 0);
    transform: translate(0, 0);
  }
  92% {
    clip-path: inset(0 0 60% 0);
    transform: translate(-1px, -1px);
  }
  94% {
    clip-path: inset(40% 0 0 0);
    transform: translate(1px, 0);
  }
  100% {
    clip-path: inset(0 0 0 0);
    transform: translate(0, 0);
  }
}

@keyframes np-glitch-after {
  0%,
  90% {
    clip-path: inset(0 0 0 0);
    transform: translate(0, 0);
  }
  92% {
    clip-path: inset(0 0 30% 0);
    transform: translate(1px, 1px);
  }
  94% {
    clip-path: inset(70% 0 0 0);
    transform: translate(-1px, 0);
  }
  100% {
    clip-path: inset(0 0 0 0);
    transform: translate(0, 0);
  }
}

/* Utility for red glow around vulnerable nodes/cards */
body.theme-cyberdeck .np-danger-glow {
  box-shadow: 0 0 18px rgba(239, 68, 68, 0.7);
  border-color: rgba(239, 68, 68, 0.7);
}

body.theme-sysadmin .np-danger-glow {
  border-color: #ef4444;
}